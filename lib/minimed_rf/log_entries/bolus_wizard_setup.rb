# 5A0F145F13050E15110000960000000000000000000000000000000000000000000000003200000000000000000000000000000050B400000000000000000000000000000000000000000015110000C80000000000000000000000000000000000000000000000003200000000000000000000000000000050B400000000000000000000000000000000000000000033
# 1151,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeBolusWizardSetup,"NEW_CONFIG_DATUM=12079809494, OLD_CONFIG_DATUM=12079809487, ACTION_REQUESTOR=pump",12079809495,52856852,97,MiniMed 530G - 551
# 1152,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeBGTargetRange,"PATTERN_DATUM=12079809492, INDEX=0, AMOUNT_LOW=80, AMOUNT_HIGH=180, START_TIME=0",12079809493,52856852,96,MiniMed 530G - 551
# 1153,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeBolusWizardSetupConfig,"IS_SETUP_COMPLETE=true, IS_BOLUS_WIZARD_ENABLED=true, CARB_UNITS=grams, BG_UNITS=mg dl, CARB_RATIO_PATTERN_DATUM=12079809488, INSULIN_SENSITIVITY_PATTERN_DATUM=12079809490, BG_TARGET_RANGE_PATTERN_DATUM=12079809492, INSULIN_ACTION_CURVE=180",12079809494,52856852,90,MiniMed 530G - 551
# 1154,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeBGTargetRangePattern,"ORIGINAL_UNITS=mg dl, SIZE=1",12079809492,52856852,95,MiniMed 530G - 551
# 1155,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeInsulinSensitivity,"PATTERN_DATUM=12079809490, INDEX=0, AMOUNT=50, START_TIME=0",12079809491,52856852,94,MiniMed 530G - 551
# 1156,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeInsulinSensitivityPattern,"ORIGINAL_UNITS=mg dl, SIZE=1",12079809490,52856852,93,MiniMed 530G - 551
# 1157,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeCarbRatio,"PATTERN_DATUM=12079809488, INDEX=0, AMOUNT=20, UNITS=grams, START_TIME=0",12079809489,52856852,92,MiniMed 530G - 551
# 1158,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeCarbRatioPattern,SIZE=1,12079809488,52856852,91,MiniMed 530G - 551
# 1159,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeBolusWizardSetupConfig,"IS_SETUP_COMPLETE=true, IS_BOLUS_WIZARD_ENABLED=true, CARB_UNITS=grams, BG_UNITS=mg dl, CARB_RATIO_PATTERN_DATUM=12079809481, INSULIN_SENSITIVITY_PATTERN_DATUM=12079809483, BG_TARGET_RANGE_PATTERN_DATUM=12079809485, INSULIN_ACTION_CURVE=180",12079809487,52856852,83,MiniMed 530G - 551
# 1160,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeCarbRatioPattern,SIZE=1,12079809481,52856852,84,MiniMed 530G - 551
# 1161,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeCarbRatio,"PATTERN_DATUM=12079809481, INDEX=0, AMOUNT=15, UNITS=grams, START_TIME=0",12079809482,52856852,85,MiniMed 530G - 551
# 1162,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeInsulinSensitivityPattern,"ORIGINAL_UNITS=mg dl, SIZE=1",12079809483,52856852,86,MiniMed 530G - 551
# 1163,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeInsulinSensitivity,"PATTERN_DATUM=12079809483, INDEX=0, AMOUNT=50, START_TIME=0",12079809484,52856852,87,MiniMed 530G - 551
# 1164,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeBGTargetRangePattern,"ORIGINAL_UNITS=mg dl, SIZE=1",12079809485,52856852,88,MiniMed 530G - 551
# 1165,1/5/14,19:31:20,1/5/14 19:31:20,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeBGTargetRange,"PATTERN_DATUM=12079809485, INDEX=0, AMOUNT_LOW=80, AMOUNT_HIGH=180, START_TIME=0",12079809486,52856852,89,MiniMed 530G - 551

module MinimedRF
  module PumpEvents
    class BolusWizardSetup < Base
      def self.event_type_code
        0x5a
      end

      def bytesize
        if @pump_model.larger
          144
        else
          124
        end
      end

      def to_s
        "BolusWizardSetup #{timestamp_str}"
      end

      def timestamp
        parse_date(2)
      end

    end
  end
end
